const game=(()=>{"use strict";let e=[],t=[];const r=["C","D","H","S"],l=["A","J","Q","K"],n=document.querySelector("#btnAsk"),o=document.querySelector("#btnStop"),s=document.querySelector("#btnNew"),a=document.querySelectorAll(".divCards"),d=document.querySelectorAll("small"),c=(r=2)=>{e=i(),t=[];for(let e=0;e<r;e++)t.push(0),d[e].innerText=0,a[e].innerHTML="";n.disabled=!1,o.disabled=!1},i=()=>{e=[];for(let t=2;t<=10;t++)for(let l of r)e.push(`${t}${l}`);for(let t of r)for(let r of l)e.push(`${r}${t}`);return _.shuffle(e)},u=()=>e[0]?e.pop():console.error("the letters are finished"),b=(e,r)=>(t[r]+=(e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(e),d[r].innerHTML=t[r],t[r]),g=(e,t)=>{const r=document.createElement("img");r.src=`assets/cartas/${e}.png`,r.classList.add("card"),a[t].append(r)},y=e=>{let r=0;do{const e=u();r=b(e,t.length-1),g(e,t.length-1)}while(r<e&&e<21);(()=>{const[e,r]=t;setTimeout(()=>{e===r?alert("Draw try again"):e>21?alert("Sorry, you are loser"):r>21?alert("Congratulations you are winer"):r>e?alert("Sorry, you are loser"):r<e&&alert("Congratulations you are winer")},100)})()};return n.addEventListener("click",()=>{const e=u();t[0]=b(e,t.length-2),g(e,0),t[0]>21?(console.warn("You are loser"),n.disabled=!0,o.disabled=!0,y(t[0])):21===t&&(console.warn("great 21"),n.disabled=!0,o.disabled=!0,y(t[0]))}),o.addEventListener("click",()=>{n.disabled=!0,o.disabled=!0,y(t[0])}),s.addEventListener("click",()=>{c()}),{start:c}})();